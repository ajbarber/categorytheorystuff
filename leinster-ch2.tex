\documentclass{article}
\usepackage{amsmath}
\usepackage{dsfont}
\usepackage{tikz-cd}
\usetikzlibrary{matrix}
\usepackage{lipsum}
\usepackage{titlesec}
\usepackage{parskip}
\begin{document}

\title{Leinster - Basic Category Theory - Selected problem solutions for Chapter 2}
\author{Adam Barber}

\maketitle
\subsubsection*{2.1.16}
\paragraph{(a)}

Interesting adjoint functors to $G$-sets.

The trivial group functor $I$ sends a set to a $\mathbf{G}$-set with the trivial action $gx = x$. Interesting functors

Orbit functor sends a $G$-set with underlying set elements $a$ of $A$ to:

$A_G = \{ g \cdot a, g \in G \}$

Fixed point functor sends a $G$-set  with underlying set elements $a$ of $A$ to:

$A^G = \{ a \text{ such that } g \cdot a = a \text{ for all } g \in G, a \in A \}$

\paragraph{Fixed point functor - right adjoint}

Morphisms in a $G$-set are functions on the underlying set, where $f$ commutes with $g$ for every $g \in G$.

There is a bijection for each $A \in \mathbf{Set}$ and $B \in [G, \mathbf{Set}]$ as follows

\begin{align*}
  [G, \mathbf{Set}](I(A), B) &\rightarrow \mathbf{Set}(A, B^G) \\
  \psi &\mapsto \overline{\psi}
\end{align*}

$\overline{\psi}$ sends each element $a$ of $A$ to $\psi(a)$ if $g \cdot a = a$, otherwise it sends $a$ to $\psi(\emptyset)$.

\begin{align*}
  \mathbf{Set}(A, B^G) &\rightarrow [G, \mathbf{Set}](I(A), B) \\
  \phi &\mapsto \overline{\phi}
\end{align*}

$\phi$ sends each $a \in A$ in the underlying set of the $G$-set to the $G$-set $(g, \overline{\phi}(a)), g \in G$.

\paragraph{Orbit functor - left adjoint}

There is a bijection for each $A \in [G, \mathbf{Set}]$ and $B \in \mathbf{Set}$ as follows

\begin{align*}
  \mathbf{Set}(A_G, B) &\rightarrow [G, \mathbf{Set}](A, I(B)) \\
  \psi &\mapsto \overline{\psi}
\end{align*}

So each morphism in $\mathbf{Set}$ sends the set formed by the orbits of an element $a$ of $A$, call this $a_G$, to $\psi(a_G)$, where $\psi$ is a function of sets.
Choose a $G$-set morphism $\overline{\psi} = \psi$, where $\overline{\psi}$ commutes with $g$ for every $g$ in $G$.

\begin{align*}
  [G, \mathbf{Set}](A, I(B)) &\rightarrow \mathbf{Set}(A_G, B)\\
  \phi &\mapsto \overline{\phi}
\end{align*}

Choose $\overline{\phi}$ to be a disjoint union of each orbit of $a$ in $A$, $\overline{\phi}(a)$ =  $\amalg\{\phi(g \cdot a), g \in G\}$

\subsubsection*{2.1.17}

Write $\mathcal{O}(X)$ for the poset of open subsets of a topological space $X$ ordered by inclusion.

$\Delta: \mathbf{Set} \rightarrow [\mathcal{O}(X)^{op}, \mathbf{Set}]$

Write $\mathcal{P}$ for the presheaf functor category, and $P \in \mathcal{P}$ for the functor which maps $\mathcal{O}(X)^{op}$ to $\mathbf{Set}$. Take open sets $U, V$, such that $U \subseteq V$ in $X$. A presheaf consists of

\begin{itemize}

\item restriction maps, $P(V) \rightarrow P(U)$, these are morphisms which enforce some sort of ordering of the mapped sets,

\item and the actual mapped sets $P(U), P(V)$ which are called sections.

\end{itemize}

Since the question specifies a constant presheaf, by definition, the restriction maps of $\Delta A$ are identity maps. And the sections are just the $A$.
Specifically $\Delta A (U) = A$ for subsets $U$ of $X$, and $\Delta A (\rightarrow) = 1_A$ for morphisms.

Write $\Gamma P = P(X)$ for the \textbf{global} sections functor which takes an element of $\mathcal{P}$ to a $\mathbf{Set}$.

We are required to show a bijection:

For $A$ in $\mathbf{Set}$ and $B$ in $\mathcal{P}$
\begin{align*}
  \mathbf{Set}(A, \Gamma B) &\rightarrow \mathcal{P}(\Delta A, B)\\
\end{align*}
and
\begin{align*}
   \mathcal{P}(\Delta A, B) &\rightarrow \mathbf{Set}(A, \Gamma B)
\end{align*}

The maps between the presheaf functors in $\mathcal{P}$ are natural transformations. Natural transformations are a collection of maps $\alpha_A$: $\{ \Delta A (A) \rightarrow B(A) \}_{A \in \mathcal{A}}$. For $U \subseteq V \subseteq X$ we have the commuting square:
\begin{equation}
\label{eqn:13291}
\begin{tikzcd}
  & \Delta A(X) \arrow[d,"\alpha_X"] \arrow[r, "1_A"] & \Delta A(V) \arrow[d,"\alpha_{V}"] \arrow[r, "1_A"] & \Delta A(U) \arrow[d,"\alpha_{U}"{name=G,right}]\\
  & B(X) \arrow[r,"B(f)"] & B(V) \arrow[r,"B(f)"] & B(U)
\end{tikzcd}
\end{equation}

Recall $\Delta A (\cdot) = A$. Then the morphism in $\mathbf{Set}$ is represented by $\alpha_X$ above. As visible from the figure above this corresponds one to one with each $\alpha_A$ in $\mathcal{A}$, so the bijection holds. Dually using the exact same reasoning $\Pi$, the left adjoint of $\Delta$ is the presheaf evaluation at the empty set, $\Pi (P) = P(\emptyset)$.

For the left adjoint to $\Pi$, $\Lambda$, and for $A$ in $\mathbf{Set}$ and $B$ in $\mathcal{P}$, we need to show a bijection between:

\begin{equation*}
  \mathcal{P}(\Lambda A, B) \leftrightarrow \mathbf{Set}(A, \Pi(B))
\end{equation*}

To try and cobble together a definition of the presheaf functor $\Lambda$, start with the naturality diagram representing morphisms in $\mathcal{P}$:

\begin{center}
\begin{tikzcd}
  & \Lambda(U) \arrow[d,"\alpha_U"] \arrow[r, "A(f)"] & \Lambda(\emptyset) \arrow[d,"\alpha_{\emptyset}"{name=G,right}]\\
  & B(U) \arrow[r,"B(f)"] & B(\emptyset)
\end{tikzcd}
\end{center}

Note that $\Pi (B) = B(\emptyset)$. Start by choosing $\Lambda(\emptyset) = A$, so the morphism in $\mathbf{Set}$ is $\alpha_\emptyset$. Our choice of $\Lambda$ needs to make this diagram commute for all $U$ in $\mathcal{O}(X)^{op}$. For $U \neq \emptyset$ we could try $\Lambda(U) = A$, however to force the square above to commute with this choice, will impose some structure on the presheaf $B$. Rather, try setting  $\Lambda(U) = \emptyset$ for $U \neq \emptyset$. Choosing the initial object $\emptyset$ of $\mathcal{O}(X)^{op}$, means there is one map out of the top LHS of the square in the above diagram, and the square commutes as required.

We also have

\begin{equation*}
  \mathcal{P}(A, \nabla B) \leftrightarrow \mathbf{Set}(\Gamma A, B)
\end{equation*}

$\nabla$, the right adjoint to $\Gamma$ can be obtained dually, by swapping $\mathbf{Set}$ with $\mathbf{Set}^{op}$ and $\mathcal{O}(X)^{op}$ with $\mathcal{O}(X)$. This is simply a relabelling which has the effect of reversing the chain of adjoint functors stated in the question. We then apply analogous reasoning, take $\nabla(U) = \{*\}$, for $U \neq X$, and $\nabla(X) = B$.


\subsubsection*{2.2.11}
The full subcategory where $\eta_a$ is an isomorphism

\subsubsection*{2.2.12}
\paragraph{(a)}

\textbf{Heuristic sort of proof}
if the counit, $FG (f) \rightarrow f, B \in \mathcal{B}$ is isomorphic then a mapping back exists $f \rightarrow FG (f)$ such that their composition is the identity. So for a given $B$ and $B^\prime$ and $FG(f)$ and $f$ are one to one. Which necessarily means $f$ and $Gf$ are one to one, so $G$ is full and faithful.

\textbf{Algebraic proof}
From (2.2) the naturality axiom states:
\begin{equation*}
\overline{(FG(B) \xrightarrow{\epsilon} B \xrightarrow{q} {B^\prime}} =
G(B) \xrightarrow{1_{G(B)}} G(B) \xrightarrow{G(q)} G(B^\prime)
\end{equation*}

$\epsilon$ injective implies faithful:
$G(q_1) = G(q_2) \implies \epsilon q_1 = \epsilon q_2 \implies q_1 = q_2$

faithful implies $\epsilon$ injective:
$\epsilon q_1 = \epsilon q_2 \implies G(q_1) = G(q_2) \implies q_1 = q2$

$\epsilon$ is injective implies full:
For a given $h = G(q)$, need to find $q: \mathcal{B} \rightarrow \mathcal{B}$ inducing $h$. We know from naturality equation above that $G(q) = \overline{q\epsilon}$. $\epsilon$ needs to be invertible to retrieve $q$ and hence satisfy fullness requirement.

full implies $\epsilon$ is injective: Put $B^\prime = FG(B)$ in the naturality condition above to give:
\begin{equation*}
\overline{(FG(B) \xrightarrow{\epsilon} B \xrightarrow{\lambda} {FG(B)}} =
G(B) \xrightarrow{1_{G(B)}} G(B) \xrightarrow{G(\lambda)} GFG(B)
\end{equation*}

Using fullness choose $\lambda$ such that $G\lambda = \eta$. Then
\begin{align*}
  \overline{1_{FG}}(B) &= \eta_G(B), \text{ therefore } \\
  1_{FG}(B) &= \overline{\eta_G}(B) = \lambda\epsilon_G(B). \\
\end{align*}
So $\epsilon$ has an inverse and is therefore injective.

\subsubsection*{2.2.13}
\paragraph{(a)}
We have sets $S, T$, a function $f\colon S \rightarrow T$. $P(S)$ denotes the set of all subsets of $S$. The functor $f^*$ takes elements of $T$ to their inverse under $f$. Looking for left and right adjoints of $f^*$. We can immediately see the left adjoint of $f^*$ is $f$ from below.
\begin{align}
\label{eqn:2213a1}
  P(S)(A,f^{-1}(B)) & \cong P(T)(f(A), B)
\end{align}

Now to find the right adjoint of $f^*$, $G$ below:
\begin{align*}
  P(T)(A,G(B)) & \cong P(S)(f^{-1}(A), B)
\end{align*}

Dualising
\begin{align}
\label{eqn:2213a2}
  P(T)^{op}(G(B),A) & \cong P(S)^{op}(B, f^{-1}(A))
\end{align}

Equation (\ref{eqn:2213a2}) is (\ref{eqn:2213a1}) up to an isomorphism. So we choose $G = f$ here. In fact the power set $P$ is self adjoint. Loosely, this means we have an isomorphism between the opposite category and the original category. We use this isomorphism to get a representation of $G$ in $P(T)$, with the right adjoint sending $B$ to $\overline{f(\overline{B})}$.

Because $f$ is a bijection, elements in $T$ that are not in $f(\overline{B})$ must have elements in $B$ as their preimage. So $\overline{f(\overline{B})}$ consists of all sets of $T$ where $f^{-1}(T) \subseteq B$. In summary the left adjoint of $f^*$ is
\begin{align*}
  F(S) = \{ t \in T, \; \exists s \in S :\; s \in f^{-1}(t) \}
\end{align*}

$F$ represents choosing elements of $T$ such that some element of $S$ is in the inverse image of $f$.

and the right adjoint
\begin{align*}
  G(S) = \{ t \in T, \; \forall s \in S :\; s \in f^{-1}(t) \}
\end{align*}

$G$ represents choosing elements of $T$ such that every element of $S$ is in the inverse image of $f$.

\paragraph{(b)}

We are asked to interpret, in light of the results in (a.), the unit $\eta\colon 1_T \rightarrow G \circ F$, and counit $\epsilon\colon F \circ G \rightarrow 1_S$, for all adjunctions.

Consider the $R(x, y)$ as a set in $X \times Y$ and $S$ as as a set in $X$. In all of the below I interpret \textbf{set inclusion as logical implication}.

Description of the functors used follows.

\begin {itemize}

\item $\forall_y$ takes a set $R(x,y)$ and returns $S(x)$ with preimage in $R(x,y)$ for all $y$. So each element in $R(x,y)$ inducing $S(x)$ is fully contained in $R(x,y)$.
\item $p^*$ the inverse image functor takes a set $S(x)$ and returns its preimage $R(x,y)$. This inclusion
  of $X$ into $X \times Y$ adds a variable in $Y$. To use parlance of first order logic the statement is free in $y$.
\item $\exists_Y$ takes a set $R(x,y)$ and returns $S(x)$ with preimage in $R(x,y)$ for at least one $y$.
\end{itemize}

We know from (a) that $\exists_Y \dashv p^* \dashv \forall_Y $

\paragraph{$p^* \dashv \forall_Y$}

\begin{itemize}
\item $\eta: 1_X \rightarrow  \forall_Y \circ p^*$ Plug in as argument to both sides of the implication the set $S(x)$. Evaluating the RHS, applying $p^*$ results in the product of $S(x)$ with $Y$, the set $R(x,y)$. So $\eta$ can be interpreted as $S(x) \implies R(x,y) \; \forall y$.
\item $\epsilon: p^* \circ \forall_Y \rightarrow 1_{X \times Y}$. (??) The universal functor is projection of a subset of $x$-values for the set $R(x,y)$ passed to the functor. Applying $p^*$ to yield say $R^Y(x,y)$ makes the statement on the LHS free in $y$, so it requires assignment for the statement to be meaningful. If we were to assign $y$ on the LHS for corresponding to the $y$ value for each RHS predicate, elementwise, then we essentially just have the statement that $R^Y(x,y) \implies R(x,y)$.
\end{itemize}

\paragraph{$\exists_Y \dashv p^*$}

\begin{itemize}
\item $\eta: 1_{X \times Y} \rightarrow   p^* \circ \exists_Y$.  (??) The existence functor is just projection of all the $x$ values for a given set of $(x,y)$. The resulting statement on the right hand side is free in $Y$ after applying $p^*$ so requires assignment to be meaningful. If we were to assign $y$ on the RHS for corresponding to the $y$ value for each LHS predicate, elementwise, then we essentially just have an identity.
\item $\epsilon: \exists_Y \circ p^* \rightarrow 1_X $ Plug in as argument to both sides of the implication the set $S(x)$. Applying $p^*$ returns the set $R(x,y)$. So $\epsilon$ can be interpreted as $\exists y: R(x,y) \implies S(x)$.
\end{itemize}

\paragraph {2.2.14 }

Natural transformations for $[\mathcal{A}, \mathcal{B}]$.

\begin{center}
\begin{tikzcd}
  & FA \arrow[d,"\alpha_A"] \arrow[r, "F(f)"] & FA^\prime \arrow[d,"\alpha_{A^\prime}"{name=G,right}]\\
  & GA \arrow[r,"G(f)"] & GA^\prime
\end{tikzcd}
\end{center}

$Y \in [\mathcal{B},\mathcal{I}], F^*(Y) = Y \circ F$. Natural transformations for $[[\mathcal{A},\mathcal{I}], [\mathcal{B},\mathcal{I}]]$.

\begin{center}
\begin{tikzcd}
  & F^*Y = Y \circ F \arrow[d,"\alpha^*_Y"] \arrow[r, "F^*(f)"] & F^*Y^\prime = Y^\prime \circ F \arrow[d,"\alpha^*_{Y^\prime}"{name=G,right}]\\
  & G^*Y = Y \circ G \arrow[r,"G^*(f)"] & G^*Y^\prime = Y^\prime \circ G
\end{tikzcd}
\end{center}

So it is evident from comparing the above natural transformation diagrams that we have the relationship $\alpha^*_Y = Y \circ \alpha$

Using first triangle inequality starting at point $F^*(Y)$ we have
\begin{align*}
  \epsilon^*_{F^*(Y)}F^*(\eta_Y^*)F^*(Y) = & F^*(Y) (\epsilon F) F^*(\eta_Y^*)F^*(Y) \\
  = & Y F(\epsilon F)(\eta F) \\
  = & YF1_F \text{ since } \epsilon F \circ F \eta = 1_F\\
  = & F^*(Y)
\end{align*}

The other triangle follows similarly. So by Theorem 2.2.5 we have an adjunction between $F^*$ and $G^*$.

\subsubsection*{2.3.10}

Equivalence between $(F, G, \eta, \epsilon)$ means for each $A$ the square below commutes.

\begin{center}
\begin{tikzcd}
  & 1_A \arrow[d,"\alpha_A"] \arrow[r, "f"] & 1_{A^\prime} \arrow[d,"\alpha_{A^\prime}"{name=G,right}]\\
  & GF(A) \arrow[r,"GF(f)"] & GF(A^\prime)
\end{tikzcd}
\end{center}

as well as in the other direction, for all $A \in \mathcal{A}$, the below square commutes

\begin{center}
\begin{tikzcd}
  & GF(A) \arrow[d,"\alpha_A^{-1}"] \arrow[r, "GF(f)"] & GF(A^\prime) \arrow[d,"\alpha_{A^\prime}^{-1}"{name=G,right}]\\
  & A \arrow[r,"f"] & A^\prime
\end{tikzcd}
\end{center}

For $F$ left adjoint to $G$ using the definition based upon initial objects, we require

A map $(F(A), \eta_A) \rightarrow (B,f)$ in $(A \Rightarrow B)$ is a map $q\colon F(A) \rightarrow B$ in $\mathcal{B}$
\begin{center}
\begin{tikzcd}
  A \arrow[r, "\eta_A"] \arrow[dr, "f"{name=H,below}, dashrightarrow] & GF(A) \arrow[d,"GF(q)"{name=U,right}] \\
& G(B)
\end{tikzcd}
\end{center}

that commutes. So we choose $GF(q) = f\alpha_A^{-1}$.

\subsubsection*{2.3.11}

A map $(F(S), \eta_S) \rightarrow (A,f)$ in $(S \Rightarrow U)$ is a map $q\colon F(S) \rightarrow A$ in $\mathcal{A}$

\begin{center}
\begin{tikzcd}
  S \arrow[r, "\eta_S"] \arrow[dr, "f"{name=H,below}, dashrightarrow] & UF(S) \arrow[d,"U(q)"{name=U,right}] \\
& U(A)
\end{tikzcd}
\end{center}

$U(q) \circ \eta_S$ and $f$ commute. So in the case $f$ is injective, then $U(q) \circ \eta_S$ must be injective. This implies in turn that $\eta_S$ is injective.

\subsubsection*{2.3.12 }

\paragraph{Par}
\begin{itemize}
  \item Objects: sets $X$
   \item Morphisms: Partial functions, written $(f, D)$, where $f\colon X \rightarrow Y, \; X \subseteq D$, morphisms are only defined when $X \subseteq D$.
\end{itemize}

$\mathbf{Set_*}$
\begin{itemize}
  \item Objects: sets $X \cup \{*\}$
  \item Morphisms: $f^*(X) = Y, X \subseteq D, \text{ o.w } \{*\}$
\end{itemize}

$F\colon \mathbf{Par} \rightarrow \mathbf{Set_*}$
\begin{align*}
  F(f, D) &= x \mapsto \begin{cases}
    f(X), & \text{if $X \subseteq D$}.\\
    {*}, & \text{otherwise}.\\
  \end{cases} \\
  F(X) &= X \cup \{*\} \; \text{on objects}
\end{align*}
\end {document}

$G\colon \mathbf{Set_*} \rightarrow \mathbf{Par}$

\begin{align*}
  G(f^*) &= (f^*, X \setminus \{*\}),\\
  G(X) &= X \setminus \{*\} \;\text{on objects}
\end{align*}

So we are mapping the undefined value of $\{*\}$ to the empty set. Which means
$GF(\{*\}) = \emptyset$. So $F$ and $G$ are not isomorphic. However its seems we can construct a natural isomorphism $\alpha_X$ between $1_{\mathbf{Par}}$ and $GF$. An easier way to prove equivalence though is to show $F$ is full, faithful and essentially surjective on objects.

$F$ is faithful as for a morphism in $\mathbf{Par}$, $(X \rightarrow Y, D)$  there is at most one corresponding morphism in $\mathbf{Set_*}$, described in the definition of $F$. Alternatively, the domain of $f$ can be recovered from $Ff$. It is those points which get mapped to something $\neq \{*\}$, since morphisms preserve distinguished elements. But since we have the domain then $f$ can be recovered from $Ff$, since $f$ is the restriction of $Ff$ to the domain of $Ff$. \footnote{https://math.stackexchange.com/questions/884451/why-are-the-category-of-pointed-sets-and-the-category-of-sets-and-partial-functi}

$F$ is full as for a morphism in $\mathbf{Set_*}$, $Ff \colon X \rightarrow Y$ there is at least one morphism inducing it in $\mathbf{Par}$, define $L = \{x\colon f(x) = \{*\}\}$, then the preimage partial function is $(f, X \setminus L)$, again by definition of $F$.

Finally $F$ is essentially surjective on objects, because for all objects $B \in \mathbf{Set_*}$ there exists $A$ in $\mathbf{Par}$ such that $F(A)\cong B$. Specifically $A = B \setminus \{*\}$.

So $\mathbf{Par}$ and $\mathbf{Set_*}$ are equivalent.
\end {document}
